HWCC is a user-friendly command line tool to create,manage and setup HPC clusters hosted on Huawei Cloud.
In this quickstart, we will guide user to setup the slurm cluster with this tool quickly.
We are using the HWCC image from the Huawei Cloud Market. After deploy the ecs with the HWCC image, the user could using the HWCC tool directly without installation.

Prepare you cloud
  1:Logon cloud with your cloud username/password 
  2:Create Client-ECS with EIP with HWCC image from Cloud Market 
  3:Create vpc and subnet, get the value for network_ids.
  4:Create security group, get the value for security_group. 
    a:Don't use the default security group as the default group can not be found by name when using Openstack API.
    b:Add the access rules to allow ssh connection.

HWCC Requirement
  HWCC will be installed on the Client-ECS on the cloud in the same VPC to the cluster nodes.
  Bind the EIP to the Client-ECS to make it be able to access the internet.

Initialize HWCC environment
  1:Deploy the ssh key to ~/.ssh
    #ssh-keygen -t rsa

Start and Manage Cluster
  0:Encrypt the username and password
    #hwcc init --env
  1:Edit the config file to deploy the cluster
    Follow the comments in the config file
    #vi ~/.hwcc/config
  2:Start cluster, this will create the cluster according to config file
    #hwcc create slurm -n <clustername>
  3:Stop cluster. Notice here: this will delete the cluster(include the ECS) in the cloud.
    #hwcc delete <cluster_name>
  4:Resize the cluster
    #hwcc resize -a 1:worker <cluster_name> //add one worker node to the cluster
    #hwcc resize -r 1:worker <cluster_name> //remove one worker node from the cluster

Enable Slurm power saving options: hwcc init --slurm <clustername>

Create HPC Cluster with CHESS Web Portal
  1:Enable chess
    global_var_chess_enabled = true //defined in setup session, default value is false
  2:Choose chess image
    image_id = <chess_image_id> //get chess image id from Huawei Cloud market
